<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sports TV</title>

<style>
body{margin:0;font-family:tahoma;background:#0b0b0b;color:#fff}

/* Lock Screen */
#lockScreen{position:fixed;inset:0;background:#080808;display:flex;justify-content:center;align-items:center;z-index:9999}
.lock-box{background:#121212;padding:25px;width:280px;border-radius:14px;text-align:center}
.lock-box input,.lock-box button{width:100%;height:42px;border:none;border-radius:10px;margin-top:10px}
.lock-box input{padding:0 10px}
.lock-box button{background:#c90000;color:#fff;font-weight:bold}
#error{color:#ff4d4d;display:none;margin-top:10px}

#content{display:none}

/* Header */
.top-header{background:#111;padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #b30000}
.header-title{font-size:22px;font-weight:bold;text-shadow:0 0 6px #b30000}
.visits-box{background:#000;padding:5px 10px;border-radius:12px;color:#00ff66;font-weight:bold}

/* Channels */
.channels{padding:15px;display:grid;grid-template-columns:1fr;gap:12px}
.channel-btn{background:#1a1a1a;padding:15px;border-radius:14px;text-align:center;font-size:18px;font-weight:bold;cursor:pointer;border:1px solid #333}
.channel-btn:hover{background:#c90000}

/* Player */
#playerBox{display:none;position:fixed;inset:0;background:#000;z-index:5000}
iframe{width:100%;height:100%;border:none}
.back-btn{
  position:absolute;
  top:10px;
  left:10px;
  background:#000;
  color:#fff;
  padding:8px 14px;
  border-radius:10px;
  font-size:14px;
  cursor:pointer;
  z-index:99999;
}
</style>
</head>

<body>

<!-- Lock -->
<div id="lockScreen">
  <div class="lock-box">
    <h3>ğŸ”’ Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
    <input id="lockCode" placeholder="Ø§Ù„ÙƒÙˆØ¯">
    <button onclick="unlock()">Ø¯Ø®ÙˆÙ„</button>
    <div id="error">ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø£Ùˆ Ø­Ø°Ù Ø§Ù„ÙƒÙˆØ¯</div>
  </div>
</div>

<!-- Content -->
<div id="content">
  <div class="top-header" id="headerBox">
    <div class="header-title">Sports TV</div>
    <div class="visits-box">
      ğŸ‘¤ <span id="userName">---</span> | Ø²ÙŠØ§Ø±Ø§Øª: <span id="visitsCount">0</span>
    </div>
  </div>

  <div class="channels" id="channelsBox">
    <div class="channel-btn" onclick="toggleBein()">beIN sports</div>

    <div id="beinList" style="display:none;flex-direction:column;gap:10px">
      <div class="channel-btn" onclick="openChannel(1)">beIN sports 1</div>
      <div class="channel-btn" onclick="openChannel(2)">beIN sports 2</div>
      <div class="channel-btn" onclick="openChannel(3)">beIN sports 3</div>
      <div class="channel-btn" onclick="openChannel(4)">beIN sports 4</div>
      <div class="channel-btn" onclick="openChannel(5)">beIN sports 5</div>
      <div class="channel-btn" onclick="openChannel(6)">beIN sports 6</div>
      <div class="channel-btn" onclick="openChannel(7)">beIN sports 7</div>
      <div class="channel-btn" onclick="openChannel(8)">beIN sports 8</div>
    </div>
  </div>
</div>

<div id="playerBox">
  <div class="back-btn" onclick="backToChannels()">â¬… Ø±Ø¬ÙˆØ¹</div>
  <iframe id="playerFrame" allowfullscreen></iframe>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyAUc2cH9gVE7RECiW19XQXjNZQxVH96sFE",
  authDomain: "zezo-59a8d.firebaseapp.com",
  databaseURL: "https://zezo-59a8d-default-rtdb.firebaseio.com",
  projectId: "zezo-59a8d"
});

const db=firebase.database();

const links={
  1:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kby5tb2hhbWVkYWJvbWFsZWs2MzIud29ya2Vycy5kZXYvP3VybD1odHRwOi8vaGV0MDAwLjRyb3V3YW5kYS1zaG9wLnN0b3JlL2xpdmUvOTE4NDU0NTc4MDAxL2luZGV4Lm0zdTg",
  2:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzY5ODU0MjExL2luZGV4Lm0zdTg",
  3:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzY0NTU4NzcwMC9pbmRleC5tM3U4",
  4:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kby5tb2hhbWVkYWJvbWFsZWs2MzIud29ya2Vycy5kZXYvP3VybD1odHRwOi8vaGV0MDAwLjRyb3V3YW5kYS1zaG9wLnN0b3JlL2xpdmUvOTc4NzQ4ODg0Ny9pbmRleC5tM3U4",
  5:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzYxMDMwMzAzMC9pbmRleC5tM3U4",
  6:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzE1MTUwMDAwMDAvaW5kZXgubTN1OA",
  7:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzMzNTIzNTEwL2luZGV4Lm0zdTg",
  8:"https://mandoosports.yoo7.com/h27-html?id=aHR0cHM6Ly9tYW5kb3Nwb3J0Lm1hbmRvcGMyMDE5LndvcmtlcnMuZGV2Lz91cmw9aHR0cDovL2hldDAwMC40cm91d2FuZGEtc2hvcC5zdG9yZS9saXZlLzk5NjI1MTAwMC9pbmRleC5tM3U4"
};

function toggleBein(){
  const list=document.getElementById("beinList");
  list.style.display=list.style.display==="none"?"flex":"none";
}

function unlock(){
  const code=lockCode.value.trim();
  if(!code) return;

  db.ref("codes/"+code).get().then(snap=>{
    if(!snap.exists()||!snap.val().active||snap.val().visits<=0){
      error.style.display="block";return;
    }
    const data=snap.val();
    db.ref("codes/"+code+"/visits").set(data.visits-1);

    userName.innerText=data.name;
    visitsCount.innerText=data.visits-1;
    lockScreen.style.display="none";
    content.style.display="block";
  });
}

function openChannel(n){
  headerBox.style.display="none";
  channelsBox.style.display="none";
  playerBox.style.display="block";
  playerFrame.src=links[n];
}

function backToChannels(){
  playerFrame.src="";
  playerBox.style.display="none";
  headerBox.style.display="flex";
  channelsBox.style.display="grid";
}
</script>

</body>
</html>
